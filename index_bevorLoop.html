<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue 3 Basics</title>

    <style>
        .box{
            background-color: purple;
            height: 200px;
            width: 200px;
        }
        .box_2{
            background-color: red;
            height: 200px;
            width: 200px;
        }
        .box_3{
            background-color: blue;
            height: 100px;
            width: 100px;
        }
        .box_4{
            background-color: green;
            height: 50px;
            width: 50px;
        }
        [v-cloak]{
            display: none;
        }

        input{
            margin: 10px;
            display: block;
        }
    </style>
    

    
</head>
<body>
    <div id="app" v-cloak> <!-- hides the frame when refreshing the page where all the html is shown without the JS and vue logic being active -->
        <login-form/> <!-- the name of the customly created form down in the vue script part -->
        


        <hr />

        <button v-on:click = "isVisible = true">Show Box</button> <!-- v-on:event used to create custom or standard browser events-->
        <button @click.prevent.stop = "toggleBox">Toggle Box</button> <!-- @event is the same as v-on and you can give it a name to connect it to a JS function-->

        <div v-if="isVisible" class="box"></div> <!-- if the statement is false the box will not be renderd/displaed not even if inspected-->
        
        
        <!-- in general you can add as many modifiers to the @click/@keyup/@whatever methods as you want/need, most of them will be shown by autocomplete so you can play arround-->


    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script><!-- all that it takes to use vue in the application -->
    <script> // for custom code


        let app = Vue.createApp({ // the import gives us the Vue variable and .createApp creates the Vue Application and we can pass it stuff in the options object 
            data: function(){     // the options object is the {} inside () and any var or function thats gona be used in the application lives on this object (let app)
                return{
                    greeting: 'Hello Vue 3!', // the data function returns a variable with what ever value
                    info: 5,
                    isVisible: true      
                }
            },
            methods: { // here i can create as many functions/methods as i want like in the data part i can add as many variables as i want
                toggleBox(){ // methods writen in here are availabe everywhere in the program
                    this.isVisible = !this.isVisible
                },
                greet(greeting){
                    console.log(greeting)
                }
            }
        })


        app.component('login-form', { // a custom form that was meshioned in the html part -> you can use all the other vue parts/options like data and methods also in the component part
            // template is the only required option and serves as a possible html body which lets define a structure that will be shown as the visual html code 
            // Info not the standart way of doing it as here you don't have the autocomplete or error corretion features you would normaly have
            // .prevent is used so the entire page isn't revreshed upon clicking submit
            // v-bind allows to bind/connect 2 variable with each other in our case it binds the lable variable from the "custom-input" to the emailLable/passwordLable in our login-form
            // v-bind can also be writen as Just :
            template: ` 
                <form @submit.prevent="handleSubmit">
                    <h1> {{ titel }} </h1>
                    <custom-input v-model="email" v-bind:label="emailLabel"/> 
                    <custom-input v-model="password" :label="passwordLabel"/>
                    <button>Log in</button>
                </form>
            `,
            components: ['custom-input'], // in order to use a different custom component in another one you need to refrence it like this 
            data(){
                return{
                    titel: 'Login Form',
                    email: '',
                    password: '',
                    emailLabel: 'Email',
                    passwordLabel: 'Password'
                }
            },
            methods: {
                handleSubmit(){
                    console.log(this.email, this.password)
                }
            }
        })
        // another custom component this time only an input used in the first component
        // we could refrence the lable in here as a data type but you can also do it in the other compnent parsing it over from there to here
        // in order to access the value in the input we will also add an v-model here to save it to inputValue -> v-model updates the imputValue every time the value in the html input changes
        // other ways to change the input would be to listen for changes on the input and then call a method that emitts an event with the value | as well as | parcing a function from the parent to the child and the child can then call that function and change the parent variable that way
        app.component('custom-input', {
            template: `
                <label>
                    {{ label }} 
                    <input type="text" v-model="inputValue">    
                </label>
            `,
            props: ['label', 'modelValue'], // the props allows us to accept the values given from the parent component, 
                              // the best way to write those is to make an array of strings of the names information that is passed down from the parent to the child object
                              // modelValue comes from the parent -> v-model="email" or "password" does multiple things at once, updating the email var and also giving us the modelValue which = email
                              // so we can accept the value given over v-model/the parent object and use it here
                              // now giving the vars in the parent component start values automatically displayes them in the child component thanks to v-model
            computed: {
                inputValue:{
                    get(){ // if i get the var this will run
                        return this.modelValue
                    },
                    set(value){ // if i set the var this will run, value can have anyname you want as vue automatically passes it to the variable in the ()
                        this.$emit('update:modelValue', value) // $emits allows you to send out events other components can listen to, with that values can be passed arround
                                                               // first arggument is the kind of event thats beeing emitted and the second arggument is the value thats passed through that event 
                                                               // with v-model providing the values it is also always listening to these kinds of events so when this event here happens the value of the variable in the parent object gets updated
                                                               // the reason why you would go to such lenghts in order to change a var is because the variables and their values passed down to the child object are unchangable, thats only possible in the same object
                                                               // 
                    }
                }
            }
            
                              //multi commenting strg+k + strg+c crazy stuff
            // data(){
            //     return{
            //         inputValue: ''
            //     }
            // }
        })



        app.mount('#app') // used to mount the vue application somewhere in the html part -> so we can use the vue part in the html part 
                          // with referencing 'id="app"' and '#app' everything in the vue 'let app' part can be used and interact in the marked "app" html part
    </script>

</body>
</html>